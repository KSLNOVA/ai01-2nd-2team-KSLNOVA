# 프로젝트 기획서 (요약)

## 1. 프로젝트 정의
- **이름**: 운동 자세 AI Agent
- **목표**: 웹캠 프레임을 실시간으로 분석해 스쿼트/플랭크 자세 피드백, rep 카운트, LLM 코칭·TTS, 유튜브 튜토리얼 추천을 제공하는 웹 앱
- **범위**: 로컬 데모(HTTP 정적 서빙 + FastAPI WebSocket), 키는 `.env → env.js`로 주입

## 2. 일정(현황)
- 초기 아이디어/설계 완료, 스쿼트·플랭크 기본 규칙/rep 카운트/피드백 구현
- 남은 부분: 모델 고도화(YOLO), 배포용 인프라 결정

## 3. 작업 분할 구조 (WBS)
- **CV & 실시간 처리**: 웹캠 캡처 → WS 전송 → MediaPipe Pose 각도 계산 → instant 피드백/rep 카운트 → 처리 프레임 반환
- **LLM 코칭/리포트**: OpenAI API로 코칭 문구·세션 리포트 생성, 운동별 필터링
- **TTS**: Web Speech API, 중복·쿨다운 제어, 다시 듣기
- **튜토리얼/검색**: YouTube Data API 추천/검색, 실패 시 기본·nocookie 영상 폴백, 수동 ID/링크 입력
- **프론트 UX**: React(바닐라 JSX/CDN) 단일 페이지, 운동 전환 시 상태 초기화, 키 누락/오류 안내

## 4. 요구사항 (요약)
- 웹캠 실시간 스트림을 WS로 전송하고 피드백/rep를 즉시 수신한다.
- MediaPipe Pose(확장: YOLO)로 관절 좌표·각도 계산, 운동별 규칙 적용.
- OpenAI API로 코칭/리포트, 브라우저 TTS로 재생.
- 유튜브 추천/검색, 실패 시 기본 영상 대체 및 수동 입력 지원.
- 키 누락/쿼터 초과 시 안내·폴백, 운동 변경 시 세션 상태 초기화.

## 5. 데이터/키 관리
- 입력: 웹캠 프레임(base64), 운동 선택, 채팅, 영상 검색/ID
- 출력: instant/코칭 텍스트, rep, 분석 프레임, 리포트, 튜토리얼 링크
- 키: `OPENAI_API_KEY`, `YOUTUBE_API_KEY` (.env → env.js, Git 미포함)
- 로컬 파일: `dataset/xyz_distances.csv`(참고), `video/`(선택 녹화), `env.js`(런타임)
